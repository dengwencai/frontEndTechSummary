### 小程序为什么会有两个线程? 怎么设计?

### 目前主流的渲染方式有以下3种
1. Web技术渲染
2. Native技术渲染
3. Hybrid技术渲染（同时使用了webview和原生来渲染）

Native技术渲染： 从小程序的定位来讲，它就不可能用纯原生技术来进行开发，因为那样它的编译以及发版都得跟随微信，所以需要像Web技术那样，有一份随时可更新的资源包放在远程，通过下载到本地，动态执行后即可渲染出界面。

Web技术渲染：但如果用纯web技术来开发的话，会有一个很致命的缺点那就是在 Web 技术中，UI渲染跟 JavaScript 的脚本执行都在一个单线程中执行，这就容易导致一些逻辑任务抢占UI渲染的资源，这也就跟设计之初要求的「快」相违背了。

Hybrid技术渲染：因此微信小程序选择了Hybrid 技术，界面主要由成熟的 Web 技术渲染，辅之以大量的接口提供丰富的客户端原生能力。同时，每个小程序页面都是用不同的WebView去渲染，这样可以提供更好的交互体验，更贴近原生体验，也避免了单个WebView的任务过于繁重。

「微信小程序是以webview渲染为主，原生渲染为辅的混合渲染方式」


### 微信小程序的渲染层与逻辑层分别由两个线程管理
1. 渲染线程：渲染层的界面使用 webview 进行渲染；
2. 逻辑线程：逻辑层采用 JSCore运行JavaScript代码。
